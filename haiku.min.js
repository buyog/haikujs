define([],function(){"use strict"
function e(e,t){return e.replace(/\$([^$]*);/g,function(e,n){var c=t[n]
return"string"==typeof c||"number"==typeof c?c:e})}function t(e){var t,n,c,r=i.exec(e),d=r?document.createElement(r[0]):null
if(d){if(s.test(e)&&(n=s.exec(e),d.appendChild(document.createTextNode(n[0].slice(1,-1)))),o.test(e))for(n=o.exec(e),e=e.slice(0,n.index)+e.slice(n.index+n[0].length),n=n[0].slice(1,-1).split(","),t=0;t<n.length;t++)c=n[t].split("="),2==c.length?d.setAttribute(c[0],c[1]):c.length>2&&d.setAttribute(c[0],c.slice(1).join("="))
for(l.test(e)&&(n=l.exec(e),d.id=n[0].slice(1)),n=a.exec(e);n&&n.length;){for(t=0;t<n.length;t++)d.classList.add(n[t].slice(1))
n=a.exec(e)}}else s.test(e)&&(n=s.exec(e),d=document.createTextNode(n[0].slice(1,-1)))
return d}function n(n,c,i){var l,a,s=i?document.createElement("div"):document.createDocumentFragment(),o=s,d=null,u=e(n,c),f=u.split(r)
for(l=0;l<f.length;l++)if(d=t(f[l]),d&&o.appendChild(d),a=r.exec(u),a&&a.length)switch(a[0]){case"<":o=o.parentNode
break
case">":o=d
break
case"+":break
default:console.warn("unrecognized position delimiter:",a)}return i?s.innerHTML:s}function c(e,t){var c=n(e,t)
return c&&c.childNodes.length?c.childNodes[0]:null}var i=/^[a-z]+[1-6]?/i,r=/[><\+]/g,l=/#[_a-z]+[_a-z0-9-]*/i,a=/\.-?[_a-z]+[_a-z0-9-]*/gi,s=/{[^}]+}/,o=/\[[^\]]*\]/
return{expand:n,create:c}})
