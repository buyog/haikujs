define([],function(){"use strict";function g(a,b,c){return a.replace(/\$([^$]*);/g,function(a,d){var e=b[d]||c,f=typeof e;return"string"===f||"number"===f?e:"("+f+")"})}function h(b){var i,j,k,h=a.exec(b),l=h?document.createElement(h[0]):null;if(l){if(e.test(b)&&(j=e.exec(b),l.appendChild(document.createTextNode(j[0].slice(1,-1)))),f.test(b))for(j=f.exec(b),b=b.slice(0,j.index)+b.slice(j.index+j[0].length),j=j[0].slice(1,-1).split(","),i=0;i<j.length;i++)k=j[i].split("="),2==k.length?l.setAttribute(k[0],k[1]):k.length>2&&l.setAttribute(k[0],k.slice(1).join("="));for(c.test(b)&&(j=c.exec(b),l.id=j[0].slice(1)),j=d.exec(b);j&&j.length;){for(i=0;i<j.length;i++)l.classList.add(j[i].slice(1));j=d.exec(b)}}else e.test(b)&&(j=e.exec(b),l=document.createTextNode(j[0].slice(1,-1)));return l}function i(a,c,d){var k,l,e=d?document.createElement("div"):document.createDocumentFragment(),f=e,i=null,j=g(a,c,""),m=j.split(b);for(k=0;k<m.length;k++)if(i=h(m[k].trim()),i&&f.appendChild(i),l=b.exec(j),l&&l.length)switch(l[0]){case"<":f=f.parentNode;break;case">":f=i;break;case"+":break;default:console.warn("unrecognized position delimiter:",l)}return d?e.innerHTML:e}function j(a,b){var c=i(a,b);return c&&c.childNodes.length?c.childNodes[0]:null}var a=/^[a-z]+[1-6]?/i,b=/[><\+]/g,c=/#[_a-z]+[_a-z0-9-]*/i,d=/\.-?[_a-z]+[_a-z0-9-]*/gi,e=/{[^}]+}/,f=/\[[^\]]*\]/;return{expand:i,create:j}});